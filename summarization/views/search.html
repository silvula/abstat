<!doctype html>
<html lang="en" ng-app="schemasummaries">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=2">
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<link rel="shortcut icon" href="static/img/abstat.svg">
	<script src="static/js/ui-bootstrap-tpls-0.12.1.min.js"></script>
    <script src="static/js/controllers.js"></script>
    <script src="static/js/jquery.min.js"></script>
  	<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/smoothness/jquery-ui.min.css" rel="stylesheet" type="text/css" />
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"></script>

  	<style>
	  #custom-handle {
	    width: 3em;
	    height: 1.6em;
	    top: 50%;
	    margin-top: -.8em;
	    text-align: center;
	    line-height: 1.6em;
	  }
 	</style>
   

   	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.7.3/css/bootstrap-slider.css" />
    <title>ABSTAT</title>
  	</head>
  	<body>
  	<div class="container-fluid">
		<div class="page-header" style="background: url('static/img/logo.jpg') right; background-repeat: no-repeat; background-size: contain">
			<h1><img alt="" src="static/img/abstat.svg"> ABSTAT<small> linked data summaries</small></h1>
		</div>
	    <div ng-controller="search">
	    	<div class="row" style="margin-top:2cm">
	    		<div class="col-md-12">
		    		<form class="form-horizontal">
		    			<div class="form-group">
		    				<div class="col-md-1"></div>
			    			<div class="col-md-7">
						    	<input type="text" class="form-control" ng-model="srcStr" placeHolder="search for concepts and abstract knowledge patterns"/>
						    </div>
						    <div class="col-md-1">
						    <button type="submit" class="btn btn-primary" ng-click="loadPatterns()">Search</button>
						    </div>
						    <div class="col-md-2">
						    <div class="checkbox">
    							<label>
      								<input type="checkbox" ng-model="searchInExternalResources">include external resources
    							</label>
 						    </div>

						    </div>
						    <div class="col-md-1"></div>
					    </div>
				    </form>
			    </div>
      		</div>
      		
      		<div class="row">
      		<div class="col-md-1"></div>
      		<div class="col-md-7">
	      		<div class = "radio">
					   		<label class="radio-inline"><input type="radio" name = "searchBy" ng-model="searchBy" value="all" ng-checked ="true">All</label>
					    	<label class="radio-inline"><input type="radio" name = "searchBy" ng-model="searchBy" value="AKPOnly">AKP only</label>
					    	<label class="radio-inline"><input type="radio" name = "searchBy" ng-model="searchBy" value="ConceptOnly">Concept only</label>
					    	<label class="radio-inline"><input type="radio" name = "searchBy" ng-model="searchBy" value="PropertyOnly">Property only</label>
					    	<label class="radio-inline"><input type="radio" name = "searchBy" ng-model="searchBy" value="DatatypeOnly">Datatype only</label>
				</div>
					    

	    		<div class="panel panel-default"  ng-show = "searchBy=='AKPOnly' && (list[selected[0]].value=='pagerank' || list[selected[1]].value=='pagerank')">

	        		<div class="panel-body">
					     <label class="row">Order by:</label>
	        	 		<div class = "radio">
					    	<label class="radio-inline"><input type="radio" name = "orderByRadio" ng-model="orderByRadio" value="pagerankSubjectAKP" ng-checked ="true">Subject PageRank</label>
					    	<label class="radio-inline"><input type="radio" name = "orderByRadio" ng-model="orderByRadio" value="pagerankPropertyAKP">Property PageRank</label>
					    	<label class="radio-inline"><input type="radio" name = "orderByRadio" ng-model="orderByRadio" value="pagerankObjectAKP">Object PageRank</label>
					    	<label class="radio-inline"><input type="radio" name = "orderByRadio" ng-model="orderByRadio" value="pagerank">AKP PageRank</label>
					    </div>
	        		</div>
    			</div>   
      		</div>
      		<div class="col-md-3">
      			<ul class="list-group">
  				<h5>Select ranking algorithm</h5>
      			 <div ng-repeat="item in list" ng-click="setSelected($index)">
			      <a href="#" class="list-group-item" ng-class="{'active': selected.indexOf(item.id)!=-1}"> {{item.text}} </a>
				</div>
				</ul>

				<div id="slider" ng-show = "selected.length>1">
				  <div id="custom-handle" class="ui-slider-handle"></div> 
				</div>
				 <div id="legend"> 
				 <div class="row" ng-show = "selected.length>1" style="margin-top:0.5cm" style="margin-right: 0.5cm">
				 <label > </label>
				 	<label ng-value="selected[0]" style='float: left'>{{list[selected[0]].text}}</label>
					<label ng-value="selected[1]" style='float: right'>{{list[selected[1]].text}}</label>
				</div>

				 </div>
      		</div>
      		<div class="col-md-1"></div>
      		</div> 

      		<div class="row" style="margin-top:1cm" ng-show="allDocuments">
      		<div class="col-md-12">
      			<ul class="list-unstyled">
				  <li><span class="glyphicon glyphicon-resize-full" aria-hidden="true"></span> <small><strong>external</strong> concept / property / akp</small></li>
				  <li><span class="glyphicon glyphicon-resize-small" aria-hidden="true"></span> <small><strong>internal</strong> concept / property / akp</small></li>
				</ul>
				</div>
      		</div>
      		<div class="row" ng-show="allDocuments.length == 0">
      		<div class="col-md-12">
      			<h4>Nothing found!</h4>
			</div>
			</div>
      		<div class="row">
      		<div class="col-md-12">
				<div ng-repeat="doc in allDocuments">
			 	<ul class="list-inline">
			 		<li><span class="label label-default">{{doc.dataset}}</span></li>
					<li><span class="label label-{{doc.type | asLabel}}">{{doc.type}}</span></li>
					<li><span class="glyphicon glyphicon-resize-{{doc.subtype | asIcon}}" aria-hidden="true"></span></li>
			 		<li ng-repeat="uri in doc.URI track by $index"><h4>{{uri | prefixed}}</h4></li>
			 		<li>({{doc.occurrence}})</li>
			 	</ul>
				</div>
				<button ng-show="allDocuments" ng-click="loadMore()" type="button" class="btn btn-deafult btn-block">
					<span><strong>{{allDocuments.length}}</strong> results - get more</span>
	        	</button>
			</div>
			</div>
	    </div>
    </div>
  </body>

</html>
